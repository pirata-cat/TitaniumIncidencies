function DataBase(){var e={};return e.open=function(){0==Ti.App.Properties.getBool("dbIsInstalled",!1)?(e.db=Ti.Database.install("/db/meses_electorals.sqlite","meses_electorals"),Ti.App.Properties.setBool("dbIsInstalled",!0),Ti.API.debug("db was not installed")):(e.db=Ti.Database.open("meses_electorals"),Ti.API.debug("db already installed"))},e.getProvinces=function(){if(null!=e.db){for(var i=e.db.execute("SELECT distinct PROVINCIA FROM meses_electorals order by PROVINCIA"),t=[];i.isValidRow();)t.push(i.field(0)),i.next();return i.close(),t}return[]},e.getCities=function(i){if(null!=e.db){var t=e.db.execute("SELECT distinct POBLACIO FROM meses_electorals WHERE PROVINCIA = ? order by POBLACIO",i);Titanium.API.debug("ROW COUNT = "+t.getRowCount());for(var a=[];t.isValidRow();)a.push(t.field(0)),t.next();return t.close(),a}return[]},e.getCollegis=function(i){if(null!=e.db){var t=e.db.execute("SELECT distinct COLLEGI_ELECTORAL FROM meses_electorals WHERE POBLACIO = ? order by COLLEGI_ELECTORAL",i);Titanium.API.debug("ROW COUNT = "+t.getRowCount());for(var a=[];t.isValidRow();)a.push(t.field(0)),t.next();return t.close(),a}return[]},e.close=function(){e.db.close()},e}module.exports=DataBase;